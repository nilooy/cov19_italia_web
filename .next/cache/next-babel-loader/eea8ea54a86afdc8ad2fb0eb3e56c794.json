{"ast":null,"code":"var __jsx = React.createElement;\nimport axios from \"axios\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Clock from \"react-live-clock\";\nimport CardStat from \"./CardStat\";\n\nconst LeftSideBar = props => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    nuovi_positivi: 0,\n    totale_casi: 0,\n    deceduti: 0,\n    casi_testati: 0,\n    tamponi: 0,\n    terapia_intensiva: 0,\n    data: Date.now()\n  });\n  useEffect(() => {\n    axios.get(process.env.API_URL + \"stats\").then(res => {\n      const resData = res.data[0];\n      setState({\n        nuovi_positivi: resData.nuovi_positivi,\n        totale_casi: resData.totale_casi,\n        deceduti: resData.deceduti,\n        casi_testati: resData.casi_testati,\n        tamponi: resData.tamponi,\n        terapia_intensiva: resData.terapia_intensiva,\n        \"l'ultimo_aggiornamento\": formatDate(resData.data)\n      });\n    });\n  }, []);\n\n  const makeUpperCase = text => {\n    let splitedText = text.split(\"_\");\n    let result = \"\";\n\n    for (let i = 0; i < splitedText.length; i++) {\n      result += \" \" + splitedText[i][0].toUpperCase() + splitedText[i].slice(1);\n    }\n\n    return result;\n  };\n\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString(\"it-IT\", {\n      timeZone: \"UTC\"\n    });\n  };\n\n  return __jsx(Fragment, null, __jsx(\"div\", {\n    className: \"border-bottom border-gray w-100 px-2 d-flex align-items-center  justify-content-between \" + (props.darkMode ? \"darkMode\" : \"\"),\n    style: {\n      height: 90\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: \"100%\"\n    }\n  }, __jsx(\"div\", {\n    className: \"header-title\"\n  }, __jsx(\"img\", {\n    className: \"logo_anim\",\n    src: \"https://image.flaticon.com/icons/svg/2659/2659980.svg\",\n    alt: \"cov19\"\n  }), __jsx(\"span\", {\n    className: \"h5 mb-0 mx-2 font-weight-bold\"\n  }, \"Statistica\"), __jsx(\"span\", {\n    className: \"lightIcon\",\n    onClick: props.toggleDarkMode\n  }, __jsx(\"img\", {\n    src: !props.darkMode ? \"https://image.flaticon.com/icons/svg/841/841641.svg\" : \"https://image.flaticon.com/icons/png/512/841/841539.png\",\n    width: \"20\",\n    alt: \"flaticon\"\n  }))), __jsx(\"p\", null, __jsx(Clock, {\n    format: \"D/MM/YYYY:HH:mm:ss\",\n    ticking: true,\n    timezone: \"Europe/Rome\"\n  })))), __jsx(\"div\", {\n    className: \"w-100 d-flex flex-wrap align-items-start align-content-start position-relative customScrollbar \" + (props.darkMode ? \"bg-dark\" : \"\"),\n    style: {\n      height: \"calc(100% - 90px)\",\n      overflowY: \"auto\"\n    }\n  }, Object.keys(state).map((key, index) => __jsx(CardStat, {\n    title: makeUpperCase(key),\n    text: state[key],\n    key: index,\n    dateField: key == \"l'ultimo_aggiornamento\" ? true : false,\n    darkMode: props.darkMode\n  }))));\n};\n\nexport default LeftSideBar;","map":null,"metadata":{},"sourceType":"module"}