{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\Personal\\\\dev\\\\covid19it\\\\cov19ItaliaWeb\\\\components\\\\LeftSideBar.js\";\nvar __jsx = React.createElement;\nimport axios from \"axios\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Clock from \"react-live-clock\";\nimport CardStat from \"./CardStat\";\n\nconst LeftSideBar = props => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    nuovi_positivi: 0,\n    totale_casi: 0,\n    deceduti: 0,\n    casi_testati: 0,\n    tamponi: 0,\n    terapia_intensiva: 0,\n    data: Date.now()\n  });\n  const {\n    0: toolTip,\n    1: setToolTip\n  } = useState(false);\n  useEffect(() => {\n    axios.get(process.env.API_URL + \"stats\").then(res => {\n      const resData = res.data[0];\n      setState({\n        nuovi_positivi: resData.nuovi_positivi,\n        totale_casi: resData.totale_casi,\n        deceduti: resData.deceduti,\n        casi_testati: resData.casi_testati,\n        tamponi: resData.tamponi,\n        terapia_intensiva: resData.terapia_intensiva,\n        \"l'ultimo_aggiornamento\": formatDate(resData.data)\n      });\n      showToolTip();\n    });\n  }, []);\n\n  const showToolTip = () => {\n    setTimeout(() => {\n      if (localStorage.getItem(\"darkMode\") !== null) {\n        setToolTip(true);\n        setTimeout(() => {\n          setToolTip(false);\n        }, 5000);\n      }\n    }, 2000);\n  };\n\n  const makeUpperCase = text => {\n    let splitedText = text.split(\"_\");\n    let result = \"\";\n\n    for (let i = 0; i < splitedText.length; i++) {\n      result += \" \" + splitedText[i][0].toUpperCase() + splitedText[i].slice(1);\n    }\n\n    return result;\n  };\n\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString(\"it-IT\", {\n      timeZone: \"UTC\"\n    });\n  };\n\n  return __jsx(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"border-bottom border-gray w-100 px-2 d-flex align-items-center  justify-content-between \" + (props.darkMode ? \"darkMode\" : \"\"),\n    style: {\n      height: 90\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"header-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    className: \"logo_anim\",\n    src: \"https://image.flaticon.com/icons/svg/2659/2659980.svg\",\n    alt: \"cov19\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), __jsx(\"span\", {\n    className: \"h5 mb-0 mx-2 font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Statistica\"), __jsx(\"span\", {\n    className: \"lightIcon tooltip-c\",\n    onClick: props.toggleDarkMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: !props.darkMode ? \"https://image.flaticon.com/icons/svg/841/841641.svg\" : \"https://image.flaticon.com/icons/png/512/841/841539.png\",\n    width: \"20\",\n    alt: \"flaticon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }), __jsx(\"span\", {\n    className: \"tooltiptext \" + (toolTip ? \"tooltiptext-show\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Passare alla modalit\\xE0 luce\"))), __jsx(\"p\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, __jsx(Clock, {\n    format: \"D/MM/YYYY:HH:mm:ss\",\n    ticking: true,\n    timezone: \"Europe/Rome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  })))), __jsx(\"div\", {\n    className: \"w-100 d-flex flex-wrap align-items-start align-content-start position-relative customScrollbar \" + (props.darkMode ? \"bg-dark\" : \"\"),\n    style: {\n      height: \"calc(100% - 90px)\",\n      overflowY: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, Object.keys(state).map((key, index) => __jsx(CardStat, {\n    title: makeUpperCase(key),\n    text: state[key],\n    key: index,\n    dateField: key == \"l'ultimo_aggiornamento\" ? true : false,\n    darkMode: props.darkMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default LeftSideBar;","map":{"version":3,"sources":["D:/Code/Personal/dev/covid19it/cov19ItaliaWeb/components/LeftSideBar.js"],"names":["axios","React","Fragment","useEffect","useState","Clock","CardStat","LeftSideBar","props","state","setState","nuovi_positivi","totale_casi","deceduti","casi_testati","tamponi","terapia_intensiva","data","Date","now","toolTip","setToolTip","get","process","env","API_URL","then","res","resData","formatDate","showToolTip","setTimeout","localStorage","getItem","makeUpperCase","text","splitedText","split","result","i","length","toUpperCase","slice","dateString","toLocaleString","timeZone","darkMode","height","width","toggleDarkMode","textAlign","overflowY","Object","keys","map","key","index"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { Fragment, useEffect, useState } from \"react\";\r\nimport Clock from \"react-live-clock\";\r\nimport CardStat from \"./CardStat\";\r\n\r\nconst LeftSideBar = (props) => {\r\n  const [state, setState] = useState({\r\n    nuovi_positivi: 0,\r\n    totale_casi: 0,\r\n    deceduti: 0,\r\n    casi_testati: 0,\r\n    tamponi: 0,\r\n    terapia_intensiva: 0,\r\n    data: Date.now(),\r\n  });\r\n\r\n  const [toolTip, setToolTip] = useState(false);\r\n\r\n  useEffect(() => {\r\n    axios.get(process.env.API_URL + \"stats\").then((res) => {\r\n      const resData = res.data[0];\r\n\r\n      setState({\r\n        nuovi_positivi: resData.nuovi_positivi,\r\n        totale_casi: resData.totale_casi,\r\n        deceduti: resData.deceduti,\r\n        casi_testati: resData.casi_testati,\r\n        tamponi: resData.tamponi,\r\n        terapia_intensiva: resData.terapia_intensiva,\r\n        \"l'ultimo_aggiornamento\": formatDate(resData.data),\r\n      });\r\n\r\n      showToolTip();\r\n    });\r\n  }, []);\r\n\r\n  const showToolTip = () => {\r\n    setTimeout(() => {\r\n      if (localStorage.getItem(\"darkMode\") !== null) {\r\n        setToolTip(true);\r\n        setTimeout(() => {\r\n          setToolTip(false);\r\n        }, 5000);\r\n      }\r\n    }, 2000);\r\n  };\r\n\r\n  const makeUpperCase = (text) => {\r\n    let splitedText = text.split(\"_\");\r\n    let result = \"\";\r\n\r\n    for (let i = 0; i < splitedText.length; i++) {\r\n      result += \" \" + splitedText[i][0].toUpperCase() + splitedText[i].slice(1);\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleString(\"it-IT\", { timeZone: \"UTC\" });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div\r\n        className={\r\n          \"border-bottom border-gray w-100 px-2 d-flex align-items-center  justify-content-between \" +\r\n          (props.darkMode ? \"darkMode\" : \"\")\r\n        }\r\n        style={{ height: 90 }}\r\n      >\r\n        <div style={{ width: \"100%\" }}>\r\n          <div className=\"header-title\">\r\n            <img\r\n              className=\"logo_anim\"\r\n              src=\"https://image.flaticon.com/icons/svg/2659/2659980.svg\"\r\n              alt=\"cov19\"\r\n            />\r\n            <span className=\"h5 mb-0 mx-2 font-weight-bold\">Statistica</span>\r\n\r\n            <span\r\n              className=\"lightIcon tooltip-c\"\r\n              onClick={props.toggleDarkMode}\r\n            >\r\n              <img\r\n                src={\r\n                  !props.darkMode\r\n                    ? \"https://image.flaticon.com/icons/svg/841/841641.svg\"\r\n                    : \"https://image.flaticon.com/icons/png/512/841/841539.png\"\r\n                }\r\n                width=\"20\"\r\n                alt=\"flaticon\"\r\n              />\r\n              <span\r\n                className={\"tooltiptext \" + (toolTip ? \"tooltiptext-show\" : \"\")}\r\n              >\r\n                Passare alla modalità luce\r\n              </span>\r\n            </span>\r\n          </div>\r\n\r\n          <p style={{ textAlign: \"center\" }}>\r\n            <Clock\r\n              format={\"D/MM/YYYY:HH:mm:ss\"}\r\n              ticking={true}\r\n              timezone={\"Europe/Rome\"}\r\n            />\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={\r\n          \"w-100 d-flex flex-wrap align-items-start align-content-start position-relative customScrollbar \" +\r\n          (props.darkMode ? \"bg-dark\" : \"\")\r\n        }\r\n        style={{ height: \"calc(100% - 90px)\", overflowY: \"auto\" }}\r\n      >\r\n        {Object.keys(state).map((key, index) => (\r\n          <CardStat\r\n            title={makeUpperCase(key)}\r\n            text={state[key]}\r\n            key={index}\r\n            dateField={key == \"l'ultimo_aggiornamento\" ? true : false}\r\n            darkMode={props.darkMode}\r\n          />\r\n        ))}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default LeftSideBar;\r\n"]},"metadata":{},"sourceType":"module"}