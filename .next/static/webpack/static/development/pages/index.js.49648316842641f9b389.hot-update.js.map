{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.49648316842641f9b389.hot-update.js","sources":["webpack:///./components/LeftSideBar.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { Fragment, useEffect, useState } from \"react\";\r\nimport CardStat from \"./CardStat\";\r\n\r\nconst LeftSideBar = () => {\r\n  const [state, setState] = useState({\r\n    nuovi_positivi: 0,\r\n    totale_casi: 0,\r\n    deceduti: 0,\r\n    casi_testati: 0,\r\n    tamponi: 0,\r\n    terapia_intensiva: 0,\r\n    data: Date.now(),\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:8000/stats\").then((res) => {\r\n      const resData = res.data[0];\r\n\r\n      setState({\r\n        nuovi_positivi: resData.nuovi_positivi,\r\n        totale_casi: resData.totale_casi,\r\n        deceduti: resData.deceduti,\r\n        casi_testati: resData.casi_testati,\r\n        tamponi: resData.tamponi,\r\n        terapia_intensiva: resData.terapia_intensiva,\r\n        data: formatDate(resData.data),\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  const makeUpperCase = (text) => {\r\n    let splitedText = text.split(\"_\");\r\n    let result = \"\";\r\n\r\n    for (let i = 0; i < splitedText.length; i++) {\r\n      result += \" \" + splitedText[i][0].toUpperCase() + splitedText[i].slice(1);\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    var options = {\r\n      weekday: \"short\",\r\n      month: \"2-digit\",\r\n      day: \"2-digit\",\r\n      year: \"2-digit\",\r\n    };\r\n    return new Date(dateString).toLocaleString(\"it-IT\", options);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div\r\n        className=\"border-bottom border-gray w-100 px-2 d-flex align-items-center bg-white justify-content-between\"\r\n        style={{ height: 90 }}\r\n      >\r\n        <span className=\"h5 text-dark mb-0 mx-4 font-weight-bold\">\r\n          Statistica\r\n        </span>\r\n      </div>\r\n      <div\r\n        className=\"w-100 d-flex flex-wrap align-items-start align-content-start position-relative\"\r\n        style={{ height: \"calc(100% - 90px)\", overflowY: \"auto\" }}\r\n      >\r\n        {Object.keys(state).map((key, index) => (\r\n          <CardStat title={makeUpperCase(key)} text={state[key]} key={index} />\r\n        ))}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default LeftSideBar;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AADA;AAAA;AACA;AAUA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAMA;AACA;AACA;;;;A","sourceRoot":""}